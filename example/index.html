<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Custom Element Import</title>
    <!-- <script src="https://unpkg.com/custom-element-import@latest/dist/ce-import.js" crossorigin></script> -->
    <!-- <script src="https://unpkg.com/custom-element-import@latest/dist/ce-import.min.js" crossorigin></script> -->
    <script>window.addEventListener("DOMContentLoaded",function(){var e;function t(e,t){if(!e)return;const o=t&&t.dir?t.dir:location.href.replace(/(.*)\/(.*)$/,"$1")+"/components";customElements.get(e.localName)||import(`${o}/${e.localName}.js`)}function o(e,o){const r=e.getAttribute("ce-import")||"auto";if("true"===r)t(e,o);else if("auto"===r){const r=new IntersectionObserver(n=>{n.some(e=>e.isIntersecting)&&r&&(r.unobserve(e),t(e,o))},{root:null,rootMargin:"100px",threshold:[0]});r.observe(e)}}!function(e){const t=document.querySelectorAll(":not(:defined)");Array.from(t).forEach(t=>{o(t,e)})}(),new MutationObserver(r=>{r.filter(r=>{Array.from(r.addedNodes).forEach(r=>{!function e(r,n){if(r&&r.localName&&r.localName.indexOf("-")>=0){const e=r.getAttribute("ce-import")||"auto";"true"===e?t(r,n):"auto"===e&&o(r,n)}Array.from(r.childNodes).forEach(t=>{e(t,n)})}(r,e)})})}).observe(document.body,{attributes:!1,childList:!0,subtree:!0})});</script>
    <!-- <script src="components/happy-hippo.js"></script> -->
</head>
<body>
    <h1>Custom Element Import</h1>
    <happy-hippo></happy-hippo>
    <p>Hello, let's scroll!</p>
    <button>put <code>dirty-dog</code> into DOM</button>
    <p>
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
    </p>
    <curious-chamelion>
        <template shadowrootmode="open" id="tpl-curious-chamelion">
            <h2>Chamelion</h2>
            <slot></slot>
            <p>We have seen a chamelion.</p>
            <style>
                :host { font-style: italic; }
                h2 { color: red; }
            </style>
        </template>
    </curious-chamelion>
    <p>
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
    </p>
    <p>
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
    </p>
    <angry-axolotl ce-import="false">
        <template shadowroot="open" id="tpl-angry-axolotl">
            <h2>Axolotl</h2>
            <slot></slot>
            <p>We have seen an axolotl.</p>
            <style>
                :host { font-style: italic; }
                h2 { color: green; }
            </style>
        </template>
    </angry-axolotl>
    <p>
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
    </p>
    <p>
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
    </p>
    <p>
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
    </p>
    <happy-hippo name="Joan"></happy-hippo>
    <p>
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
    </p>
    <p>
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
    </p>
    <details>
        <summary>Open to see some dirty dog!</summary>
        <p>
            <dirty-dog></dirty-dog>
            This is a text in the details element.
        </p>
    </details>
    <p>
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
    </p>
    <brave-bird></brave-bird>
    <p>
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
    </p>
    <p>
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
    </p>
    <p>
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
    </p>
    <script>
        // https://developer.chrome.com/articles/declarative-shadow-dom/#polyfill
        (function attachShadowRoots(root) {
          root.querySelectorAll("template[shadowrootmode]").forEach(template => {
            const mode = template.getAttribute("shadowrootmode");
            const shadowRoot = template.parentNode.attachShadow({ mode });
            shadowRoot.appendChild(template.content);
            template.remove();
            attachShadowRoots(shadowRoot);
          });
         })(document);
    </script>
    <script>
        const button = document.querySelector("button");
        button.addEventListener("click", () => {
            console.log("add new custom element using LightDOM at the end of body");
            const el = document.createElement("dirty-dog");
            // el.setAttribute("ce-import", "true");
            document.body.appendChild(el);
        }, {once: true});
    </script>
</body>
</html>