<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Custom Element Import</title>
    <script>window.addEventListener("DOMContentLoaded",function(){function e(e,{dir:o}){e&&(customElements.get(e.localName)?console.log("already loaded",e.localName):(console.log("load",e.localName),import(`${o}/${e.localName}.js`)))}function o(o,{dir:t}){const r=o.getAttribute("ce-import")||"auto";if("true"===r);else if("auto"===r){const r=new IntersectionObserver(n=>{n.some(e=>e.isIntersecting)&&r&&(r.unobserve(o),e(o,{dir:t}))},{root:null,rootMargin:"100px",threshold:[0]});r.observe(o)}}!function({dir:e}={dir:"./components"}){const t=document.querySelectorAll(":not(:defined)");Array.from(t).forEach(t=>{o(t,{dir:e})})}(),function({dir:t}={dir:"./components"}){new MutationObserver((r,n)=>{r.filter(r=>{Array.from(r.addedNodes).forEach(r=>{if(r&&r.localName&&r.localName.indexOf("-")>=0){const n=r.getAttribute("ce-import")||"auto";"true"===n?e(r,{dir:t}):"auto"===n&&o(r,{dir:t})}})})}).observe(document.body,{attributes:!1,childList:!0,subtree:!0})}()});</script>
    <!-- <script src="components/happy-hippo.js"></script> -->
    <!-- <script src="./ce-import.min.js"></script> -->
</head>
<body>
    <h1>Custom Element Import</h1>
    <happy-hippo></happy-hippo>
    <p>Hello, let's scroll!</p>
    <button>put <code>dirty-dog</code> into DOM</button>
    <p>
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
    </p>
    <curious-chamelion>
        <template shadowroot="open" id="tpl-curious-chamelion">
            <h2>Chamelion</h2>
            <slot></slot>
            <p>We have seen a chamelion.</p>
            <style>
                :host { font-style: italic; }
                h2 { color: red; }
            </style>
        </template>
    </curious-chamelion>
    <p>
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
    </p>
    <p>
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
    </p>
    <angry-axolotl ce-import="false">
        <template shadowroot="open" id="tpl-angry-axolotl">
            <h2>Axolotl</h2>
            <slot></slot>
            <p>We have seen an axolotl.</p>
            <style>
                :host { font-style: italic; }
                h2 { color: green; }
            </style>
        </template>
    </angry-axolotl>
    <p>
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
    </p>
    <p>
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
    </p>
    <p>
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
    </p>
    <happy-hippo name="Joan"></happy-hippo>
    <p>
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
    </p>
    <p>
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
    </p>
    <p>
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
    </p>
    <brave-bird></brave-bird>
    <p>
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
    </p>
    <p>
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
    </p>
    <p>
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam maiores ab obcaecati ex ad sapiente totam facere. Ut dolore labore a laboriosam veritatis reiciendis fugiat velit, voluptas porro. Molestiae, aut?
    </p>
    <script>
        const button = document.querySelector("button");
        button.addEventListener("click", () => {
            console.log("add new custom element using LightDOM at the end of body");
            const el = document.createElement("dirty-dog");
            // el.setAttribute("ce-import", "true");
            document.body.appendChild(el);
        }, {once: true});
    </script>
</body>
</html>